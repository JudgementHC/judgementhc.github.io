!function(t){function e(e){for(var n,i,a=e[0],c=e[1],u=e[2],d=0,p=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);for(l&&l(e);p.length;)p.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,a=1;a<r.length;a++){var c=r[a];0!==o[c]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},o={0:0},s=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="./";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;s.push([153,1]),r()}({153:function(t,e,r){"use strict";r.r(e);r(74),r(75);var n=r(10),o=r.n(n),s=r(37),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"fill-height",attrs:{"justify-center":"",fluid:""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[r("v-card",[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[r("v-toolbar-title",[t._v("Login form")])],1),r("v-card-text",[r("v-form",{ref:"form",attrs:{validation:""},model:{value:t.isValid,callback:function(e){t.isValid=e},expression:"isValid"}},[r("v-text-field",{attrs:{label:"Email",name:"email",type:"email","prepend-icon":"mail",rules:t.emailRules,required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{label:"Password",name:"password",type:t.showPass?"text":"password","prepend-icon":"lock",rules:t.passRules,required:"","append-icon":t.showPass?"visibility_off":"visibility"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSubmit(e)},"click:append":function(e){t.showPass=!t.showPass}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{disabled:!t.isValid||t.loading,color:"primary",loading:t.loading},on:{click:t.onSubmit}},[t._v("Login")])],1)],1)],1)],1)],1)};i._withStripped=!0;var a=r(13);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l={data:function(){return{isValid:!1,email:"",emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],password:"",passRules:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>=6||"Password must be equal or more than 6 characters"}],showPass:!1,userStatus:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({loading:function(){return this.$store.getters.loading}},Object(a.b)({user:"user"})),methods:{onSubmit:function(){var t=this;if(this.$refs.form.validate()){var e={email:this.email,pass:this.password};this.$store.dispatch("loginUser",e).then((function(){t.$router.push("/")})).catch((function(t){return console.log(t)}))}}},created:function(){this.$route.query.loginError&&this.$store.dispatch("setError","Please log in to access this page")},watch:{user:function(){this.user&&this.$router.push("/")}}},d=r(3),p=Object(d.a)(l,i,[],!1,null,null,null);p.options.__file="src/components/auth/Login.vue";var f=p.exports,m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"fill-height",attrs:{"justify-center":"",fluid:""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[r("v-card",[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[r("v-toolbar-title",[t._v("Register form")])],1),r("v-card-text",[r("v-form",{ref:"form",attrs:{validation:""},model:{value:t.isValid,callback:function(e){t.isValid=e},expression:"isValid"}},[r("v-text-field",{attrs:{label:"Email",name:"email",type:"email","prepend-icon":"mail",rules:t.emailRules,required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{label:"Password",name:"password",type:"password","prepend-icon":"lock",rules:t.passRules,required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),r("v-text-field",{attrs:{label:"Confirm Password",name:"confrim-password",type:"password","prepend-icon":"lock",rules:t.confirmPassRules,required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSubmit(e)}},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{disabled:!t.isValid,color:"primary",loading:t.loading},on:{click:t.onSubmit}},[t._v("Create account")])],1)],1)],1)],1)],1)};m._withStripped=!0;var v={data:function(){return{isValid:!1,email:"",password:"",confirmPassword:"",emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],passRules:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>=6||"Password must be equal or more than 6 characters"}]}},computed:{confirmPassRules:function(){var t=this;return[function(t){return!!t||"Password is required"},function(e){return e===t.password||"Passwords should match"}]},loading:function(){return this.$store.getters.loading}},methods:{onSubmit:function(){var t=this;if(this.$refs.form.validate()){var e={email:this.email,pass:this.password};this.$store.dispatch("registerUser",e).then((function(){t.$router.push("/")})).catch((function(t){return console.log(t)}))}}}},h=Object(d.a)(v,m,[],!1,null,null,null);h.options.__file="src/components/auth/Register.vue";var g=h.exports,b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-card",[r("v-card-title",[t._v("Input data")]),r("v-card-text",[r("v-form",{ref:"form",model:{value:t.isValid,callback:function(e){t.isValid=e},expression:"isValid"}},[r("v-row",[r("v-col",{class:t.image?"d-flex justify-center flex-column":"",attrs:{cols:"12",md:"6"}},[r("div",[r("v-text-field",{attrs:{label:"Title",rules:t.titleRules,required:"",counter:"50"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),r("v-textarea",{attrs:{"auto-grow":"",clearable:"",rows:"1",rules:t.subtitleRules,label:"Description",counter:"950"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),r("v-switch",{attrs:{label:"share with others?"},model:{value:t.promo,callback:function(e){t.promo=e},expression:"promo"}})],1)]),r("v-col",{staticClass:"d-flex justify-center align-center flex-column",attrs:{cols:"12",md:"6"}},[r("v-btn",{staticClass:"success",class:t.image?"mb-5":"",on:{click:t.triggerUpload}},[t._v("Upload")]),r("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFileChange}}),t.image?r("v-img",{attrs:{src:t.imageSrc,contain:"","max-height":"450"}}):t._e()],1)],1)],1)],1),r("v-card-actions",[r("v-btn",{attrs:{disabled:!t.isValid||t.loading||!t.image||t.fileError,loading:t.loading},on:{click:t.createPost}},[t._v("Submit")])],1)],1)],1)};b._withStripped=!0;var w={data:function(){return{isValid:!1,title:"",description:"",promo:!1,image:null,imageSrc:"",fileError:!1,aspectRatio:Number,titleRules:[function(t){return!!t||"Title is required"},function(t){return t.length<50||"Title should not exceed 50 characters"}],subtitleRules:[function(t){return t.length<950||"Description should not exceed 950 characters"}]}},methods:{createPost:function(){var t=this;if(this.$refs.form.validate()){var e={title:this.title,description:this.description,promo:this.promo,image:this.image,imageSrc:this.imageSrc};this.$store.dispatch("createPost",e).then((function(){t.$router.push("/")})).catch((function(t){console.log(t)}))}},triggerUpload:function(){this.$refs.fileInput.click()},onFileChange:function(t){var e=this,r=t.target.files[0],n=r.name.slice(r.name.lastIndexOf("."));if(".png"==n||".jpg"==n){var o=new FileReader,s=new Image;o.readAsDataURL(r),o.onload=function(t){e.imageSrc=o.result,s.src=t.target.result,s.onload=function(){e.aspectRatio=s.width/s.height,e.aspectRatio<1.3?(e.$store.commit("setError","The image aspect ratio must be greater than 1.3 (width / height). \n\t\t\t\t\t\t\t\tAspect ratio of the current image: ".concat(e.aspectRatio)),e.fileError=!0):(e.fileError=!1,e.$store.commit("clearError"))}},this.image=r}else this.$store.commit("setError","The file extension must be png or jpg")}},computed:{loading:function(){return this.$store.getters.loading}}},y=Object(d.a)(w,b,[],!1,null,null,null);y.options.__file="src/components/routes/Addpost.vue";var _=y.exports,k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.loading?r("div",[r("v-container",[r("v-row",[r("v-col",{staticClass:"d-flex justify-center align-center",staticStyle:{height:"70vh"},attrs:{cols:"12"}},[r("v-progress-circular",{attrs:{size:"65",color:"primary",indeterminate:""}})],1)],1)],1)],1):r("div",[r("v-container",[r("v-radio-group",{attrs:{row:""},model:{value:t.radioGroup,callback:function(e){t.radioGroup=e},expression:"radioGroup"}},t._l(t.sort,(function(t,e){return r("v-radio",{key:t+"-"+e,attrs:{label:t,value:t}})})),1),r("v-divider"),r("v-row",{attrs:{wrap:""}},t._l(t.getPosts,(function(e,n){return r("v-col",{key:e.id,attrs:{cols:"12",sm:"6",md:"4"}},[r("v-card",{staticClass:"card--noverflow"},[r("router-link",{attrs:{to:"/posts/"+e.id}},[r("v-img",{staticClass:"white--text align-end",attrs:{src:e.imageSrc,"lazy-src":e.imageSrc,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",height:"200"}},[r("v-card-title",{domProps:{textContent:t._s(e.title)}})],1)],1)],1)],1)})),1)],1)],1)};k._withStripped=!0;var x={data:function(){return{sort:["old","new"],radioGroup:"old"}},computed:{getPosts:function(){return"new"===this.radioGroup?this.$store.getters.getPosts.filter((function(t){return t.promo})).reverse():this.$store.getters.getPosts.filter((function(t){return t.promo}))},loading:function(){return this.$store.getters.loading}}},P=(r(78),Object(d.a)(x,k,[],!1,null,null,null));P.options.__file="src/components/routes/Home.vue";var O=P.exports,j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.loading?r("v-container",[r("v-row",[r("v-col",{staticClass:"d-flex justify-center align-center",staticStyle:{height:"70vh"},attrs:{cols:"12"}},[r("v-progress-circular",{attrs:{size:"65",color:"primary",indeterminate:""}})],1)],1)],1):r("div",{staticClass:"posts__contain py-10"},[r("v-card",{staticClass:"posts__card",attrs:{dark:""}},[r("div",{staticClass:"px-3 px-md-4 py-md-1"},[r("v-row",[r("v-col",{attrs:{cols:"12",md:"6"}},[r("figure",{staticClass:"posts__zoom",style:"background-image: url("+t.post.imageSrc+")",on:{mousemove:t.zoom}},[r("img",{staticClass:"posts__image",attrs:{src:t.post.imageSrc}})])]),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-card-title",{staticClass:"pt-0",domProps:{textContent:t._s(t.post.title)}}),r("v-card-subtitle",{class:t.post.description?"":"posts__nodescription",domProps:{textContent:t._s(t.post.description?t.post.description:"no description")}})],1)],1)],1),r("v-divider"),r("v-card-actions",[r("v-list-item",[r("v-row",{staticClass:"d-flex align-center"},[r("v-btn",{class:1===t.userLastOption?"success":"",attrs:{icon:"",disabled:t.loading||t.voiceLoading},on:{click:function(e){return t.likePost(1)}}},[r("v-icon",[t._v("thumb_up_alt")])],1),r("span",{staticClass:"mx-2"},[t._v(t._s(t.post.likeCount))]),r("v-btn",{class:-1===t.userLastOption?"error":"",attrs:{icon:"",disabled:t.loading||t.voiceLoading},on:{click:function(e){return t.likePost(-1)}}},[r("v-icon",[t._v("thumb_down_alt")])],1)],1)],1)],1)],1)],1)};function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function L(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}j._withStripped=!0;var S={props:["id"],data:function(){return{posX:0,posY:0,userLastOption:""}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach((function(e){L(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({post:function(){var t=this.id;return this.$store.getters.getPostById(t)},loading:function(){return this.$store.getters.loading},voiceLoading:function(){return this.$store.getters.voiceLoading}},Object(a.b)(["user"])),watch:{post:{deep:!0,handler:function(t){this.setUserOption(t.usersVoice[this.user.id])}}},mounted:function(){this.userLastOption=this.post.usersVoice[this.user.id]},methods:{zoom:function(t){var e,r,n=t.currentTarget;e=t.offsetX,r=t.offsetY,this.posX=e/n.offsetWidth*100,this.posY=r/n.offsetHeight*100,n.style.backgroundPosition=this.posX+"% "+this.posY+"%"},setUserOption:function(t){this.userLastOption=t},likePost:function(t){var e=this.id,r=this.user.id,n=this.post.usersVoice[r];null==n?this.$store.dispatch("likePost",[e,t,t]):n===t?this.$store.dispatch("likePost",[e,null,-t]):n===-t?n<0?this.$store.dispatch("likePost",[e,t,2]):this.$store.dispatch("likePost",[e,t,-2]):this.$store.commit("setError","Unexpected error in posts")}}},$=(r(80),Object(d.a)(S,j,[],!1,null,"1423dc84",null));$.options.__file="src/components/routes/Posts.vue";var C=$.exports,R=r(5),V=r.n(R);function D(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var r=[],n=!0,o=!1,s=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw s}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function I(t,e,r,n,o,s,i){try{var a=t[s](i),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,o)}function U(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var s=t.apply(e,r);function i(t){I(s,n,o,i,a,"next",t)}function a(t){I(s,n,o,i,a,"throw",t)}i(void 0)}))}}function q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function A(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?q(Object(r),!0).forEach((function(e){T(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function T(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var G=function t(e,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7?arguments[7]:void 0;z(this,t),this.title=e,this.description=r,this.ownerId=n,this.imageSrc=o,this.promo=s,this.id=i,this.likeCount=a,this.usersVoice=A({},c)},H={state:{posts:[]},getters:{getPosts:function(t){return t.posts},getPostById:function(t){return function(e){return t.posts.find((function(t){return t.id===e}))}}},mutations:{createPost:function(t,e){t.posts.push(e)},loadPosts:function(t,e){t.posts=e},likePost:function(t,e){var r=e.id,n=e.userAction,o=e.userId,s=e.likeValue,i=t.posts.find((function(t){return t.id===r}));i.likeCount+=s,i.usersVoice[o]=n}},actions:{createPost:function(t,e){var r=t.commit,n=t.getters;return U(regeneratorRuntime.mark((function t(){var o,s,i,a,c,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r("clearError"),r("setLoading",!0),o=e.image,t.prev=3,s=n.user.id,i=new G(e.title,e.description,s,"",e.promo),t.next=8,V.a.database().ref("posts").push(i);case 8:return a=t.sent,c=o.name.slice(o.name.lastIndexOf(".")),t.next=12,V.a.storage().ref("posts/".concat(a.key+c)).put(o);case 12:return u=t.sent,l=u.metadata.downloadURLs[0],t.next=16,V.a.database().ref("posts").child(a.key).update({imageSrc:l});case 16:r("createPost",A({},i,{id:a.key,imageSrc:l})),t.next=23;break;case 19:throw t.prev=19,t.t0=t.catch(3),r("setError",t.t0.message),t.t0;case 23:return t.prev=23,r("setLoading",!1),t.finish(23);case 26:case"end":return t.stop()}}),t,null,[[3,19,23,26]])})))()},fetchPosts:function(t){var e=t.commit;return U(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e("clearError"),e("setLoading",!0),r=[],t.prev=3,t.next=6,V.a.database().ref("posts").once("value");case 6:n=t.sent,null!==(o=n.val())&&(Object.keys(o).forEach((function(t){var e=o[t];r.push(new G(e.title,e.description,e.ownerId,e.imageSrc,e.promo,t,e.likeCount,e.usersVoice))})),e("loadPosts",r)),t.next=15;break;case 11:throw t.prev=11,t.t0=t.catch(3),e("setError",t.t0.message),t.t0;case 15:return t.prev=15,e("setLoading",!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,11,15,18]])})))()},doesPostExist:function(t,e){var r=t.commit;return U(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.a.database().ref("posts").child(e).once("value",(function(t){if(!t.exists()){var e="That post doesn't exist";throw r("setError",e),r("setVoiceLoading",!1),new Error(e)}}));case 2:case"end":return t.stop()}}),t)})))()},likePost:function(t,e){var r=t.commit,n=t.getters,o=t.dispatch,s=D(e,3),i=s[0],a=s[1],c=s[2];return U(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r("clearError"),r("setVoiceLoading",!0),t.next=4,o("doesPostExist",i).then(U(regeneratorRuntime.mark((function t(){var e,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=n.getPosts.find((function(t){return t.id===i})),o=e.likeCount+c,e.usersVoice[n.user.id]=a,s=e.usersVoice,t.next=7,V.a.database().ref("posts").child(i).update({likeCount:o,usersVoice:s});case 7:r("likePost",{id:i,userAction:a,userId:n.user.id,likeValue:c}),t.next=14;break;case 10:throw t.prev=10,t.t0=t.catch(0),r("setError",t.t0.message),t.t0;case 14:return t.prev=14,r("setVoiceLoading",!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,10,14,17]])}))));case 4:case"end":return t.stop()}}),t)})))()}}};function M(t,e,r,n,o,s,i){try{var a=t[s](i),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,o)}function Y(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var s=t.apply(e,r);function i(t){M(s,n,o,i,a,"next",t)}function a(t){M(s,n,o,i,a,"throw",t)}i(void 0)}))}}var X=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e},B={state:{user:null},getters:{userLoggedStatus:function(t){return null!==t.user},user:function(t){return t.user}},mutations:{setUser:function(t,e){t.user=e}},actions:{registerUser:function(t,e){var r=t.commit,n=e.email,o=e.pass;return Y(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r("clearError"),r("setLoading",!0),t.prev=2,t.next=5,R.auth().createUserWithEmailAndPassword(n,o);case 5:e=t.sent,r("setUser",new X(e.uid)),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(2),r("setError",t.t0.message),t.t0;case 13:return t.prev=13,r("setLoading",!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[2,9,13,16]])})))()},loginUser:function(t,e){var r=t.commit,n=e.email,o=e.pass;return Y(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r("clearError"),r("setLoading",!0),t.prev=2,t.next=5,R.auth().signInWithEmailAndPassword(n,o);case 5:e=t.sent,r("setUser",new X(e.uid)),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(2),r("setError",t.t0.message),t.t0;case 13:return t.prev=13,r("setLoading",!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[2,9,13,16]])})))()},userLogout:function(t){var e=t.commit;R.auth().signOut(),e("setUser",null)},autoLogin:function(t,e){(0,t.commit)("setUser",new X(e.uid))}}};o.a.use(a.a);var F=new a.a.Store({modules:{sidebar:{state:{drawer:!1},getters:{getDrawer:function(t){return t.drawer}},mutations:{setDrawer:function(t){t.drawer=!t.drawer}}},posts:H,routeLinks:{state:{},getters:{getLinks:function(t,e,r){return null===r.user.user?[{text:"sign up",icon:"person_add",link:"/register"},{text:"sign in",icon:"lock_open",link:"/login"}]:[{text:"add post",icon:"post_add",link:"/addpost"}]}}},user:B,loadStatus:{state:{loading:!1,error:null,voiceLoading:!1},getters:{loading:function(t){return t.loading},error:function(t){return t.error},voiceLoading:function(t){return t.voiceLoading}},mutations:{setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},clearError:function(t){t.error=null},setVoiceLoading:function(t,e){t.voiceLoading=e}},actions:{setLoading:function(t,e){(0,t.commit)("setLoading",e)},setError:function(t,e){(0,t.commit)("setError",e)},clearError:function(t){(0,t.commit)("clearError")},setVoiceLoading:function(t,e){(0,t.commit)("setVoiceLoading",e)}}}}}),W=function(t,e,r){F.getters.user?r():r("/login?loginError=true")};o.a.use(s.a);var J={mode:"history",routes:[{path:"/",component:O,beforeEnter:W},{path:"/addpost",component:_,beforeEnter:W},{path:"/login",component:f},{path:"/register",component:g},{path:"/posts/:id",props:!0,component:C,beforeEnter:W},{path:"*",redirect:"/"}]},K=new s.a(J),N=r(38),Q=r.n(N);r(150),r(151);o.a.use(Q.a);var Z=new Q.a({theme:{dark:!0},icons:{iconfont:"md"}}),tt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("main-header"),r("main-sidebar"),r("v-content",[r("router-view")],1),t.error?[r("v-snackbar",{attrs:{timeout:5e3,"multi-line":!0,color:"error",value:!0},on:{input:t.closeError}},[t._v(t._s(t.error)),r("v-btn",{attrs:{text:"",dark:""},on:{click:t.closeError}},[t._v("Close")])],1)]:t._e()],2)};tt._withStripped=!0;var et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-app-bar",{attrs:{app:""}},[r("v-app-bar-nav-icon",{staticClass:"hidden-md-and-up",on:{click:t.drawer}}),r("v-toolbar-title",[r("router-link",{attrs:{tag:"button",to:"/"}},[t._v("Meme project")])],1),r("v-spacer"),t.isUserLoggedIn?r("v-btn",{attrs:{depressed:""},on:{click:t.updatePosts}},[r("v-icon",{attrs:{left:""}},[t._v("loop")]),t._v("Load posts")],1):t._e(),t._l(t.redirectLinks,(function(e){return r("v-btn",{key:e.text,staticClass:"hidden-sm-and-down",attrs:{depressed:"",to:e.link}},[r("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v(t._s(e.text))],1)})),t.isUserLoggedIn?r("v-btn",{staticClass:"hidden-sm-and-down",attrs:{depressed:""},on:{click:t.onLogout}},[r("v-icon",{attrs:{left:""}},[t._v("logout")]),t._v("Logout")],1):t._e()],2)],1)};et._withStripped=!0;var rt={computed:{redirectLinks:function(){return this.$store.getters.getLinks},isUserLoggedIn:function(){return this.$store.getters.userLoggedStatus}},methods:{drawer:function(){this.$store.commit("setDrawer")},onLogout:function(){this.$store.dispatch("userLogout"),this.$router.push("/register")},updatePosts:function(){this.$store.dispatch("fetchPosts")}}},nt=Object(d.a)(rt,et,[],!1,null,null,null);nt.options.__file="src/components/templates/Header.vue";var ot=nt.exports,st=function(){var t=this.$createElement;return(this._self._c||t)("v-footer",{attrs:{app:""}})};st._withStripped=!0;var it={},at=Object(d.a)(it,st,[],!1,null,null,null);at.options.__file="src/components/templates/Footer.vue";var ct=at.exports,ut=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-navigation-drawer",{attrs:{app:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("v-list",{attrs:{dense:""}},[t._l(t.redirectLinks,(function(e){return r("v-list-item",{key:e.text,attrs:{link:"",to:e.link}},[r("v-list-item-action",[r("v-icon",[t._v(t._s(e.icon))])],1),r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(e.text))])],1)],1)})),t.isUserLoggedIn?r("v-list-item",{on:{click:t.onLogout}},[r("v-list-item-action",[r("v-icon",[t._v("logout")])],1),r("v-list-item-content",[r("v-list-item-title",[t._v("Logout")])],1)],1):t._e()],2)],1)};ut._withStripped=!0;var lt={computed:{drawer:{get:function(){return this.$store.getters.getDrawer},set:function(t){t!==this.$store.getters.getDrawer&&this.$store.commit("setDrawer")}},redirectLinks:function(){return this.$store.getters.getLinks},isUserLoggedIn:function(){return this.$store.getters.userLoggedStatus}},methods:{onLogout:function(){this.$store.dispatch("userLogout"),this.$router.push("/register")}}},dt=Object(d.a)(lt,ut,[],!1,null,null,null);dt.options.__file="src/components/templates/Sidebar.vue";var pt={data:function(){return{}},components:{mainHeader:ot,mainFooter:ct,mainSidebar:dt.exports},computed:{error:function(){return this.$store.getters.error}},methods:{closeError:function(){this.$store.dispatch("clearError")}}},ft=Object(d.a)(pt,tt,[],!1,null,"617ab0be",null);ft.options.__file="src/components/App.vue";var mt=ft.exports;window.Vue=r(10);r(152),new Vue({el:"#app",render:function(t){return t(mt)},vuetify:Z,router:K,store:F,created:function(){var t=this;R.initializeApp({apiKey:"AIzaSyDMV7GP_7dAMvHIh94YiY9M9BHBVeX0mgw",authDomain:"first-spa-ce124.firebaseapp.com",databaseURL:"https://first-spa-ce124.firebaseio.com",projectId:"first-spa-ce124",storageBucket:"first-spa-ce124.appspot.com",messagingSenderId:"802770627131",appId:"1:802770627131:web:21b72e48c057c3e68eca1e",measurementId:"G-DDHCYXH6G9"}),R.auth().onAuthStateChanged((function(e){e&&t.$store.dispatch("autoLogin",e)})),this.$store.dispatch("fetchPosts")}})},26:function(t,e,r){var n=r(79);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,r(36).default)("65ac7ff6",n,!1,{})},27:function(t,e,r){var n=r(81);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,r(36).default)("ac6b1702",n,!1,{})},74:function(t,e){},75:function(t,e,r){var n=r(76);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,r(36).default)("4047841e",n,!1,{})},76:function(t,e,r){},78:function(t,e,r){"use strict";var n=r(26);r.n(n).a},79:function(t,e,r){},80:function(t,e,r){"use strict";var n=r(27);r.n(n).a},81:function(t,e,r){}});